'use strict';
var adler32, alldecoder, allenchashes, allencoder, base85, base91, caesar, cheerio, crc, crypto, decalgos, dechashes, decmd5, decrypter, encalgos, enchashes, hex_parse, recipro, request, rev, rot13, rot18, rot47, rot5, zlib,
  indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

crc = require('crc');

zlib = require('zlib');

crypto = require('crypto');

base85 = require('../lib/base85');

base91 = require('../lib/base91');

caesar = require('caesar-salad');

adler32 = require('adler-32');

cheerio = require('cheerio');

request = require('sync-request');

allencoder = [];

encalgos = ['hex', 'ascii', 'base64', 'ascii85', 'base91', 'rot5', 'rot13', 'rot18', 'rot47', 'rev', 'z85', 'rfc1924', 'crc1', 'crc8', 'crc16', 'crc24', 'crc32', 'adler32', 'url', 'unixtime', 'lower', 'upper', 'deflate'];

enchashes = ['md4', 'md5', 'sha', 'sha1', 'sha224', 'sha256', 'sha384', 'sha512', 'rmd160', 'whirlpool'];

allenchashes = enchashes.concat(crypto.getHashes());

allenchashes = allenchashes.filter(function(x, i, self) {
  return self.indexOf(x) === i;
});

allencoder = allencoder.concat(encalgos, allenchashes);

alldecoder = [];

decalgos = ['hex', 'ascii', 'base64', 'ascii85', 'base91', 'rot5', 'rot13', 'rot18', 'rot47', 'rev', 'z85', 'rfc1924', 'url', 'unixtime', 'zlib'];

dechashes = ['md5'];

alldecoder = alldecoder.concat(decalgos, dechashes);

hex_parse = function(str) {
  var hex;
  hex = str.replace(/0x|:/g, '');
  if (!(hex.length % 2)) {
    return hex;
  } else {
    return false;
  }
};

rot5 = function(str) {
  return caesar.ROT5.Cipher().crypt(str);
};

rot13 = function(str) {
  return caesar.ROT13.Cipher().crypt(str);
};

rot18 = function(str) {
  return caesar.ROT18.Cipher().crypt(str);
};

rot47 = function(str) {
  return caesar.ROT47.Cipher().crypt(str);
};

rev = function(str) {
  return str.split('').reverse().join('');
};

recipro = {
  rot5: rot5,
  rot13: rot13,
  rot18: rot18,
  rot47: rot47,
  rev: rev
};

decmd5 = function(str) {
  var $, baseUrl, error, res, ret_str;
  baseUrl = 'http://www.md5-hash.com/md5-hashing-decrypt/';
  try {
    res = request('GET', baseUrl + str);
  } catch (_error) {
    error = _error;
    return error;
  }
  $ = cheerio.load(res.getBody('utf8'));
  ret_str = $('strong.result').text();
  if (str === encoder(ret_str, 'md5')) {
    return ret_str;
  } else {
    return 'not found';
  }
};

decrypter = {
  md5: decmd5
};

module.exports.encoder = function(str, algo) {
  var buffer, hex;
  switch (algo) {
    case 'hex':
    case 'base64':
      return new Buffer(str).toString(algo);
    case 'ascii85':
      return base85.encode(str, 'ascii85');
    case 'base91':
      if (hex = hex_parse(str)) {
        return base91.encode(Buffer(hex, 'hex')).toString('utf8');
      }
      break;
    case 'ascii':
      if (hex = hex_parse(str)) {
        return Buffer(hex, 'hex').toString('utf8');
      }
      break;
    case 'rot5':
    case 'rot13':
    case 'rot18':
    case 'rot47':
    case 'rev':
      return recipro[algo](str);
    case 'z85':
      return base85.encode(str, 'z85');
    case 'rfc1924':
      return base85.encode(str, 'ipv6');
    case 'crc1':
    case 'crc8':
    case 'crc16':
    case 'crc24':
    case 'crc32':
      return crc[algo](str).toString(16);
    case 'adler32':
      return adler32.str(str).toString(16);
    case 'url':
      return encodeURIComponent(str);
    case 'unixtime':
      return Date.parse(str).toString(10);
    case 'lower':
      return str.toLowerCase();
    case 'upper':
      return str.toUpperCase();
    case 'deflate':
      if (hex = hex_parse(str)) {
        buffer = new Buffer(hex, 'hex');
        return new zlib.Deflate()._processChunk(buffer, zlib.Z_FINISH).toString('hex');
      }
      break;
    default:
      if (indexOf.call(allenchashes, algo) >= 0) {
        return crypto.createHash(algo).update(str, 'utf8').digest('hex');
      }
  }
};

module.exports.decoder = function(str, algo) {
  var buffer;
  switch (algo) {
    case 'hex':
      if (!(str.length % 2)) {
        return new Buffer(str, algo).toString('utf8');
      }
      break;
    case 'base64':
      return new Buffer(str, algo).toString('utf8');
    case 'ascii85':
      return base85.decode(str, 'ascii85').toString('utf8');
    case 'base91':
      return base91.decode(str).toString('hex');
    case 'ascii':
      return new Buffer(str, algo).toString('hex');
    case 'rot5':
    case 'rot13':
    case 'rot18':
    case 'rot47':
    case 'rev':
      return recipro[algo](str);
    case 'z85':
      return base85.decode(str, 'z85').toString('utf8');
    case 'rfc1924':
      return base85.decode(str, 'ipv6').toString('utf8');
    case 'url':
      return decodeURIComponent(str);
    case 'unixtime':
      return new Date(parseInt(str)).toString('utf8');
    case 'deflate':
      if (!(str.length % 2)) {
        buffer = new Buffer(str, 'hex');
        return new zlib.Inflate()._processChunk(buffer, zlib.Z_FINISH).toString('hex');
      }
      break;
    case 'md5':
      return decrypter[algo](str);
    default:
      return 'not implemented';
  }
};

//# sourceMappingURL=data:application/json;base64,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LElBQUEsQ0FBUixDQUFjLEdBQWQsRUFiSjtBQUFBLFNBY08sS0FkUDthQWVJLE1BQU0sQ0FBQyxNQUFQLENBQWMsR0FBZCxFQUFtQixLQUFuQixDQUF5QixDQUFDLFFBQTFCLENBQW1DLE1BQW5DLEVBZko7QUFBQSxTQWdCTyxTQWhCUDthQWlCSSxNQUFNLENBQUMsTUFBUCxDQUFjLEdBQWQsRUFBbUIsTUFBbkIsQ0FBMEIsQ0FBQyxRQUEzQixDQUFvQyxNQUFwQyxFQWpCSjtBQUFBLFNBa0JPLEtBbEJQO2FBbUJJLGtCQUFBLENBQW1CLEdBQW5CLEVBbkJKO0FBQUEsU0FvQk8sVUFwQlA7YUFxQlEsSUFBQSxJQUFBLENBQUssUUFBQSxDQUFTLEdBQVQsQ0FBTCxDQUFtQixDQUFDLFFBQXBCLENBQTZCLE1BQTdCLEVBckJSO0FBQUEsU0FzQk8sU0F0QlA7QUF1QkksTUFBQSxJQUFHLENBQUEsQ0FBSyxHQUFHLENBQUMsTUFBSixHQUFhLENBQWQsQ0FBUDtBQUNFLFFBQUEsTUFBQSxHQUFhLElBQUEsTUFBQSxDQUFPLEdBQVAsRUFBWSxLQUFaLENBQWIsQ0FBQTtlQUNJLElBQUEsSUFBSSxDQUFDLE9BQUwsQ0FBQSxDQUFjLENBQUMsYUFBZixDQUE2QixNQUE3QixFQUFxQyxJQUFJLENBQUMsUUFBMUMsQ0FBbUQsQ0FBQyxRQUFwRCxDQUE2RCxLQUE3RCxFQUZOO09BdkJKO0FBc0JPO0FBdEJQLFNBMEJPLEtBMUJQO2FBMkJJLFNBQVUsQ0FBQSxJQUFBLENBQVYsQ0FBZ0IsR0FBaEIsRUEzQko7QUFBQTtBQTZCSSxhQUFPLGlCQUFQLENBN0JKO0FBQUEsR0FEdUI7QUFBQSxDQTVIekIsQ0FBQSIsImZpbGUiOiJzdHJpbmctY29kZWMuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8iLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCdcclxuXHJcbmNyYyA9IHJlcXVpcmUgJ2NyYydcclxuemxpYiA9IHJlcXVpcmUgJ3psaWInXHJcbmNyeXB0byA9IHJlcXVpcmUgJ2NyeXB0bydcclxuYmFzZTg1ID0gcmVxdWlyZSAnLi4vbGliL2Jhc2U4NSdcclxuYmFzZTkxID0gcmVxdWlyZSAnLi4vbGliL2Jhc2U5MSdcclxuY2Flc2FyID0gcmVxdWlyZSAnY2Flc2FyLXNhbGFkJ1xyXG5hZGxlcjMyID0gcmVxdWlyZSAnYWRsZXItMzInXHJcbmNoZWVyaW8gPSByZXF1aXJlICdjaGVlcmlvJ1xyXG5yZXF1ZXN0ID0gcmVxdWlyZSAnc3luYy1yZXF1ZXN0J1xyXG5cclxuYWxsZW5jb2RlciA9IFtdXHJcbmVuY2FsZ29zID0gWydoZXgnLCAnYXNjaWknLCAnYmFzZTY0JywgJ2FzY2lpODUnLCAnYmFzZTkxJywgJ3JvdDUnLCAncm90MTMnLFxyXG4gICAgICAgICAgICAncm90MTgnLCAncm90NDcnLCAncmV2JywgJ3o4NScsICdyZmMxOTI0JywgJ2NyYzEnLCAnY3JjOCcsICdjcmMxNicsXHJcbiAgICAgICAgICAgICdjcmMyNCcsICdjcmMzMicsICdhZGxlcjMyJywgJ3VybCcsICd1bml4dGltZScsICdsb3dlcicsICd1cHBlcicsXHJcbiAgICAgICAgICAgICdkZWZsYXRlJ11cclxuZW5jaGFzaGVzID0gWydtZDQnLCAnbWQ1JywgJ3NoYScsICdzaGExJywgJ3NoYTIyNCcsICdzaGEyNTYnLCAnc2hhMzg0JyxcclxuICAgICAgICAgICAgICdzaGE1MTInLCAncm1kMTYwJywgJ3doaXJscG9vbCddXHJcbmFsbGVuY2hhc2hlcyA9IGVuY2hhc2hlcy5jb25jYXQoY3J5cHRvLmdldEhhc2hlcygpKVxyXG4jIGRlZHVwZVxyXG5hbGxlbmNoYXNoZXMgPSBhbGxlbmNoYXNoZXMuZmlsdGVyKCh4LCBpLCBzZWxmKSAtPiBzZWxmLmluZGV4T2YoeCkgaXMgaSlcclxuYWxsZW5jb2RlciA9IGFsbGVuY29kZXIuY29uY2F0KGVuY2FsZ29zLGFsbGVuY2hhc2hlcylcclxuXHJcbmFsbGRlY29kZXIgPSBbXVxyXG5kZWNhbGdvcyA9IFsnaGV4JywgJ2FzY2lpJywgJ2Jhc2U2NCcsICdhc2NpaTg1JywgJ2Jhc2U5MScsICdyb3Q1JywgJ3JvdDEzJyxcclxuICAgICAgICAgICAgJ3JvdDE4JywgJ3JvdDQ3JywgJ3JldicsICd6ODUnLCAncmZjMTkyNCcsICd1cmwnLCAndW5peHRpbWUnLFxyXG4gICAgICAgICAgICAnemxpYiddXHJcbmRlY2hhc2hlcyA9IFsnbWQ1J11cclxuYWxsZGVjb2RlciA9IGFsbGRlY29kZXIuY29uY2F0KGRlY2FsZ29zLGRlY2hhc2hlcylcclxuXHJcbiMgaGV4IHBhcnNlIGhlbHBlclxyXG5oZXhfcGFyc2UgPSAoc3RyKSAtPlxyXG4gIGhleCA9IHN0ci5yZXBsYWNlKC8weHw6L2csICcnKVxyXG4gIGlmIG5vdCAoaGV4Lmxlbmd0aCAlIDIpXHJcbiAgICBoZXhcclxuICBlbHNlXHJcbiAgICBmYWxzZVxyXG5cclxucm90NSA9IChzdHIpIC0+XHJcbiAgY2Flc2FyLlJPVDUuQ2lwaGVyKCkuY3J5cHQoc3RyKVxyXG5cclxucm90MTMgPSAoc3RyKSAtPlxyXG4gIGNhZXNhci5ST1QxMy5DaXBoZXIoKS5jcnlwdChzdHIpXHJcblxyXG5yb3QxOCA9IChzdHIpIC0+XHJcbiAgY2Flc2FyLlJPVDE4LkNpcGhlcigpLmNyeXB0KHN0cilcclxuXHJcbnJvdDQ3ID0gKHN0cikgLT5cclxuICBjYWVzYXIuUk9UNDcuQ2lwaGVyKCkuY3J5cHQoc3RyKVxyXG5cclxuIyByZXZlcnNlIHN0cmluZ1xyXG5yZXYgPSAoc3RyKSAtPlxyXG4gIHN0ci5zcGxpdCgnJykucmV2ZXJzZSgpLmpvaW4oJycpXHJcblxyXG4jIHJlY2lwcm9jYWwgY2lwaGVyIGhlbHBlclxyXG5yZWNpcHJvID0ge1xyXG4gIHJvdDU6IHJvdDUsXHJcbiAgcm90MTM6IHJvdDEzLFxyXG4gIHJvdDE4OiByb3QxOCxcclxuICByb3Q0Nzogcm90NDcsXHJcbiAgcmV2OiByZXZcclxufVxyXG5cclxuIyBtZDUgZGVjcnlwdGVyXHJcbmRlY21kNSA9IChzdHIpIC0+XHJcbiAgYmFzZVVybCA9ICdodHRwOi8vd3d3Lm1kNS1oYXNoLmNvbS9tZDUtaGFzaGluZy1kZWNyeXB0LydcclxuICB0cnlcclxuICAgIHJlcyA9IHJlcXVlc3QoJ0dFVCcsIGJhc2VVcmwgKyBzdHIpXHJcbiAgY2F0Y2ggZXJyb3JcclxuICAgIHJldHVybiBlcnJvclxyXG4gICQgPSBjaGVlcmlvLmxvYWQgcmVzLmdldEJvZHkoJ3V0ZjgnKVxyXG4gIHJldF9zdHIgPSAkKCdzdHJvbmcucmVzdWx0JykudGV4dCgpXHJcbiAgaWYgc3RyIGlzIGVuY29kZXIocmV0X3N0ciwnbWQ1JylcclxuICAgIHJldF9zdHJcclxuICBlbHNlXHJcbiAgICAnbm90IGZvdW5kJ1xyXG5cclxuIyBkZWNyeXB0ZXIgaGVscGVyXHJcbmRlY3J5cHRlciA9IHtcclxuICBtZDU6IGRlY21kNVxyXG59XHJcblxyXG5cclxuIyBlbmNvZGUgaGVscGVyXHJcbm1vZHVsZS5leHBvcnRzLmVuY29kZXIgPSAoc3RyLCBhbGdvKSAtPlxyXG4gIHN3aXRjaCBhbGdvXHJcbiAgICB3aGVuICdoZXgnLCAnYmFzZTY0J1xyXG4gICAgICBuZXcgQnVmZmVyKHN0cikudG9TdHJpbmcoYWxnbylcclxuICAgIHdoZW4gJ2FzY2lpODUnXHJcbiAgICAgIGJhc2U4NS5lbmNvZGUoc3RyLCAnYXNjaWk4NScpXHJcbiAgICB3aGVuICdiYXNlOTEnXHJcbiAgICAgIGlmIGhleCA9IGhleF9wYXJzZShzdHIpXHJcbiAgICAgICAgYmFzZTkxLmVuY29kZShCdWZmZXIoaGV4LCAnaGV4JykpLnRvU3RyaW5nKCd1dGY4JylcclxuICAgIHdoZW4gJ2FzY2lpJ1xyXG4gICAgICBpZiBoZXggPSBoZXhfcGFyc2Uoc3RyKVxyXG4gICAgICAgIEJ1ZmZlcihoZXgsICdoZXgnKS50b1N0cmluZygndXRmOCcpXHJcbiAgICB3aGVuICdyb3Q1JywgJ3JvdDEzJywgJ3JvdDE4JywgJ3JvdDQ3JywgJ3JldidcclxuICAgICAgcmVjaXByb1thbGdvXShzdHIpXHJcbiAgICB3aGVuICd6ODUnXHJcbiAgICAgIGJhc2U4NS5lbmNvZGUoc3RyLCAnejg1JylcclxuICAgIHdoZW4gJ3JmYzE5MjQnXHJcbiAgICAgIGJhc2U4NS5lbmNvZGUoc3RyLCAnaXB2NicpXHJcbiAgICB3aGVuICdjcmMxJywgJ2NyYzgnLCAnY3JjMTYnLCAnY3JjMjQnLCAnY3JjMzInXHJcbiAgICAgIGNyY1thbGdvXShzdHIpLnRvU3RyaW5nKDE2KVxyXG4gICAgd2hlbiAnYWRsZXIzMidcclxuICAgICAgYWRsZXIzMi5zdHIoc3RyKS50b1N0cmluZygxNilcclxuICAgIHdoZW4gJ3VybCdcclxuICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KHN0cilcclxuICAgIHdoZW4gJ3VuaXh0aW1lJ1xyXG4gICAgICBEYXRlLnBhcnNlKHN0cikudG9TdHJpbmcoMTApXHJcbiAgICB3aGVuICdsb3dlcidcclxuICAgICAgc3RyLnRvTG93ZXJDYXNlKClcclxuICAgIHdoZW4gJ3VwcGVyJ1xyXG4gICAgICBzdHIudG9VcHBlckNhc2UoKVxyXG4gICAgd2hlbiAnZGVmbGF0ZSdcclxuICAgICAgaWYgaGV4ID0gaGV4X3BhcnNlKHN0cilcclxuICAgICAgICBidWZmZXIgPSBuZXcgQnVmZmVyKGhleCwgJ2hleCcpXHJcbiAgICAgICAgbmV3IHpsaWIuRGVmbGF0ZSgpLl9wcm9jZXNzQ2h1bmsoYnVmZmVyLCB6bGliLlpfRklOSVNIKS50b1N0cmluZygnaGV4JylcclxuICAgIGVsc2VcclxuICAgICAgaWYgYWxnbyBpbiBhbGxlbmNoYXNoZXNcclxuICAgICAgICBjcnlwdG8uY3JlYXRlSGFzaChhbGdvKS51cGRhdGUoc3RyLCAndXRmOCcpLmRpZ2VzdCgnaGV4JylcclxuXHJcbiMgZGVjb2RlIGhlbHBlclxyXG5tb2R1bGUuZXhwb3J0cy5kZWNvZGVyID0gKHN0ciwgYWxnbykgLT5cclxuICBzd2l0Y2ggYWxnb1xyXG4gICAgd2hlbiAnaGV4J1xyXG4gICAgICBpZiBub3QgKHN0ci5sZW5ndGggJSAyKVxyXG4gICAgICAgIG5ldyBCdWZmZXIoc3RyLCBhbGdvKS50b1N0cmluZygndXRmOCcpXHJcbiAgICB3aGVuICdiYXNlNjQnXHJcbiAgICAgIG5ldyBCdWZmZXIoc3RyLCBhbGdvKS50b1N0cmluZygndXRmOCcpXHJcbiAgICB3aGVuICdhc2NpaTg1J1xyXG4gICAgICBiYXNlODUuZGVjb2RlKHN0ciwgJ2FzY2lpODUnKS50b1N0cmluZygndXRmOCcpXHJcbiAgICB3aGVuICdiYXNlOTEnXHJcbiAgICAgIGJhc2U5MS5kZWNvZGUoc3RyKS50b1N0cmluZygnaGV4JylcclxuICAgIHdoZW4gJ2FzY2lpJ1xyXG4gICAgICBuZXcgQnVmZmVyKHN0ciwgYWxnbykudG9TdHJpbmcoJ2hleCcpXHJcbiAgICB3aGVuICdyb3Q1JywgJ3JvdDEzJywgJ3JvdDE4JywgJ3JvdDQ3JywgJ3JldidcclxuICAgICAgcmVjaXByb1thbGdvXShzdHIpXHJcbiAgICB3aGVuICd6ODUnXHJcbiAgICAgIGJhc2U4NS5kZWNvZGUoc3RyLCAnejg1JykudG9TdHJpbmcoJ3V0ZjgnKVxyXG4gICAgd2hlbiAncmZjMTkyNCdcclxuICAgICAgYmFzZTg1LmRlY29kZShzdHIsICdpcHY2JykudG9TdHJpbmcoJ3V0ZjgnKVxyXG4gICAgd2hlbiAndXJsJ1xyXG4gICAgICBkZWNvZGVVUklDb21wb25lbnQoc3RyKVxyXG4gICAgd2hlbiAndW5peHRpbWUnXHJcbiAgICAgIG5ldyBEYXRlKHBhcnNlSW50KHN0cikpLnRvU3RyaW5nKCd1dGY4JylcclxuICAgIHdoZW4gJ2RlZmxhdGUnXHJcbiAgICAgIGlmIG5vdCAoc3RyLmxlbmd0aCAlIDIpXHJcbiAgICAgICAgYnVmZmVyID0gbmV3IEJ1ZmZlcihzdHIsICdoZXgnKVxyXG4gICAgICAgIG5ldyB6bGliLkluZmxhdGUoKS5fcHJvY2Vzc0NodW5rKGJ1ZmZlciwgemxpYi5aX0ZJTklTSCkudG9TdHJpbmcoJ2hleCcpXHJcbiAgICB3aGVuICdtZDUnXHJcbiAgICAgIGRlY3J5cHRlclthbGdvXShzdHIpXHJcbiAgICBlbHNlXHJcbiAgICAgIHJldHVybiAnbm90IGltcGxlbWVudGVkJ1xyXG4iXX0=
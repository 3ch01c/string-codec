'use strict';
var adler32, alldecoder, allenchashes, allencoder, ascii85, base91, caesar, cheerio, crc, crypto, decalgos, dechashes, decmd5, decrypter, encalgos, enchashes, hex_parse, recipro, request, rev, rotX,
  indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

crc = require('crc');

crypto = require('crypto');

ascii85 = require('ascii85');

base91 = require('../lib/base91');

caesar = require('caesar-salad');

adler32 = require('adler-32');

cheerio = require('cheerio');

request = require('sync-request');

allencoder = [];

encalgos = ['hex', 'ascii', 'base64', 'base85', 'z85', 'ascii85', 'base91', 'rot5', 'rot13', 'rot18', 'rot47', 'rev', 'crc1', 'crc8', 'crc16', 'crc24', 'crc32', 'adler32', 'url', 'unixtime', 'lower', 'upper'];

enchashes = ['md4', 'md5', 'sha', 'sha1', 'sha224', 'sha256', 'sha384', 'sha512', 'rmd160', 'whirlpool'];

allenchashes = enchashes.concat(crypto.getHashes());

allenchashes = allenchashes.filter(function(x, i, self) {
  return self.indexOf(x) === i;
});

allencoder = allencoder.concat(encalgos, allenchashes);

alldecoder = [];

decalgos = ['hex', 'ascii', 'base64', 'base85', 'z85', 'ascii85', 'base91', 'rot5', 'rot13', 'rot18', 'rot47', 'rev', 'url', 'unixtime'];

dechashes = ['md5'];

alldecoder = alldecoder.concat(decalgos, dechashes);

module.exports = {
  ENC_ALGOS: encalgos,
  ENC_HASHES: allenchashes,
  ENC_ALL: allencoder,
  DEC_ALGOS: decalgos,
  DEC_HASHES: dechashes,
  DEC_ALL: alldecoder
};

hex_parse = function(str) {
  var hex;
  hex = str.replace(/0x|:/g, '');
  if (!(hex.length % 2)) {
    return hex;
  } else {
    return false;
  }
};

rotX = function(algo) {
  return function(str) {
    return caesar[algo].Cipher().crypt(str);
  };
};

rev = function(str) {
  return str.split('').reverse().join('');
};

recipro = {
  rot5: rotX('ROT5'),
  rot13: rotX('ROT13'),
  rot18: rotX('ROT18'),
  rot47: rotX('ROT47'),
  rev: rev
};

decmd5 = function(str) {
  var $, baseUrl, error, res, ret_str;
  baseUrl = 'http://www.md5-hash.com/md5-hashing-decrypt/';
  try {
    res = request('GET', baseUrl + str);
  } catch (_error) {
    error = _error;
    return error;
  }
  $ = cheerio.load(res.getBody('utf8'));
  ret_str = $('strong.result').text();
  if (str === encoder(ret_str, 'md5')) {
    return ret_str;
  } else {
    return 'not found';
  }
};

decrypter = {
  md5: decmd5
};

module.exports.encoder = function(str, algo) {
  var hex;
  switch (algo) {
    case 'hex':
    case 'base64':
      return new Buffer(str).toString(algo);
    case 'ascii85':
      return ascii85.PostScript.encode(str);
    case 'base91':
      if (hex = hex_parse(str)) {
        return base91.encode(Buffer(hex, 'hex')).toString('utf8');
      }
      break;
    case 'ascii':
      if (hex = hex_parse(str)) {
        return Buffer(hex, 'hex').toString('utf8');
      }
      break;
    case 'rot5':
    case 'rot13':
    case 'rot18':
    case 'rot47':
    case 'rev':
      return recipro[algo](str);
    case 'base85':
    case 'z85':
      return ascii85.ZeroMQ.encode(str);
    case 'crc1':
    case 'crc8':
    case 'crc16':
    case 'crc24':
    case 'crc32':
      return crc[algo](str).toString(16);
    case 'adler32':
      return adler32.str(str).toString(16);
    case 'url':
      return encodeURIComponent(str);
    case 'unixtime':
      return Date.parse(str).toString(10);
    case 'lower':
      return str.toLowerCase();
    case 'upper':
      return str.toUpperCase();
    default:
      if (indexOf.call(allenchashes, algo) >= 0) {
        return crypto.createHash(algo).update(str, 'utf8').digest('hex');
      }
  }
};

module.exports.decoder = function(str, algo) {
  switch (algo) {
    case 'hex':
      if (!(str.length % 2)) {
        return new Buffer(str, algo).toString('utf8');
      }
      break;
    case 'base64':
      return new Buffer(str, algo).toString('utf8');
    case 'ascii85':
      return ascii85.decode(str).toString('utf8');
    case 'base91':
      return base91.decode(str).toString('hex');
    case 'ascii':
      return new Buffer(str, algo).toString('hex');
    case 'rot5':
    case 'rot13':
    case 'rot18':
    case 'rot47':
    case 'rev':
      return recipro[algo](str);
    case 'base85':
    case 'z85':
      return ascii85.ZeroMQ.decode(str).toString('utf8');
    case 'url':
      return decodeURIComponent(str);
    case 'unixtime':
      return new Date(parseInt(str)).toString('utf8');
    case 'md5':
      return decrypter[algo](str);
    default:
      return 'not implemented';
  }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN0cmluZy1jb2RlYy5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsWUFBQSxDQUFBO0FBQUEsSUFBQSxpTUFBQTtFQUFBLG1KQUFBOztBQUFBLEdBRUEsR0FBTSxPQUFBLENBQVEsS0FBUixDQUZOLENBQUE7O0FBQUEsTUFHQSxHQUFTLE9BQUEsQ0FBUSxRQUFSLENBSFQsQ0FBQTs7QUFBQSxPQUlBLEdBQVUsT0FBQSxDQUFRLFNBQVIsQ0FKVixDQUFBOztBQUFBLE1BS0EsR0FBUyxPQUFBLENBQVEsZUFBUixDQUxULENBQUE7O0FBQUEsTUFNQSxHQUFTLE9BQUEsQ0FBUSxjQUFSLENBTlQsQ0FBQTs7QUFBQSxPQU9BLEdBQVUsT0FBQSxDQUFRLFVBQVIsQ0FQVixDQUFBOztBQUFBLE9BUUEsR0FBVSxPQUFBLENBQVEsU0FBUixDQVJWLENBQUE7O0FBQUEsT0FTQSxHQUFVLE9BQUEsQ0FBUSxjQUFSLENBVFYsQ0FBQTs7QUFBQSxVQVdBLEdBQWEsRUFYYixDQUFBOztBQUFBLFFBWUEsR0FBVyxDQUFDLEtBQUQsRUFBUSxPQUFSLEVBQWlCLFFBQWpCLEVBQTJCLFFBQTNCLEVBQXFDLEtBQXJDLEVBQTRDLFNBQTVDLEVBQXVELFFBQXZELEVBQ0MsTUFERCxFQUNTLE9BRFQsRUFDa0IsT0FEbEIsRUFDMkIsT0FEM0IsRUFDb0MsS0FEcEMsRUFDMkMsTUFEM0MsRUFDbUQsTUFEbkQsRUFDMkQsT0FEM0QsRUFFQyxPQUZELEVBRVUsT0FGVixFQUVtQixTQUZuQixFQUU4QixLQUY5QixFQUVxQyxVQUZyQyxFQUVpRCxPQUZqRCxFQUUwRCxPQUYxRCxDQVpYLENBQUE7O0FBQUEsU0FlQSxHQUFZLENBQUMsS0FBRCxFQUFRLEtBQVIsRUFBZSxLQUFmLEVBQXNCLE1BQXRCLEVBQThCLFFBQTlCLEVBQXdDLFFBQXhDLEVBQWtELFFBQWxELEVBQ0MsUUFERCxFQUNXLFFBRFgsRUFDcUIsV0FEckIsQ0FmWixDQUFBOztBQUFBLFlBaUJBLEdBQWUsU0FB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ZSBzdHJpY3QnXG5cbmNyYyA9IHJlcXVpcmUgJ2NyYydcbmNyeXB0byA9IHJlcXVpcmUgJ2NyeXB0bydcbmFzY2lpODUgPSByZXF1aXJlICdhc2NpaTg1J1xuYmFzZTkxID0gcmVxdWlyZSAnLi4vbGliL2Jhc2U5MSdcbmNhZXNhciA9IHJlcXVpcmUgJ2NhZXNhci1zYWxhZCdcbmFkbGVyMzIgPSByZXF1aXJlICdhZGxlci0zMidcbmNoZWVyaW8gPSByZXF1aXJlICdjaGVlcmlvJ1xucmVxdWVzdCA9IHJlcXVpcmUgJ3N5bmMtcmVxdWVzdCdcblxuYWxsZW5jb2RlciA9IFtdXG5lbmNhbGdvcyA9IFsnaGV4JywgJ2FzY2lpJywgJ2Jhc2U2NCcsICdiYXNlODUnLCAnejg1JywgJ2FzY2lpODUnLCAnYmFzZTkxJyxcbiAgICAgICAgICAgICdyb3Q1JywgJ3JvdDEzJywgJ3JvdDE4JywgJ3JvdDQ3JywgJ3JldicsICdjcmMxJywgJ2NyYzgnLCAnY3JjMTYnLFxuICAgICAgICAgICAgJ2NyYzI0JywgJ2NyYzMyJywgJ2FkbGVyMzInLCAndXJsJywgJ3VuaXh0aW1lJywgJ2xvd2VyJywgJ3VwcGVyJ11cbmVuY2hhc2hlcyA9IFsnbWQ0JywgJ21kNScsICdzaGEnLCAnc2hhMScsICdzaGEyMjQnLCAnc2hhMjU2JywgJ3NoYTM4NCcsXG4gICAgICAgICAgICAgJ3NoYTUxMicsICdybWQxNjAnLCAnd2hpcmxwb29sJ11cbmFsbGVuY2hhc2hlcyA9IGVuY2hhc2hlcy5jb25jYXQoY3J5cHRvLmdldEhhc2hlcygpKVxuIyBkZWR1cGVcbmFsbGVuY2hhc2hlcyA9IGFsbGVuY2hhc2hlcy5maWx0ZXIoKHgsIGksIHNlbGYpIC0+IHNlbGYuaW5kZXhPZih4KSBpcyBpKVxuYWxsZW5jb2RlciA9IGFsbGVuY29kZXIuY29uY2F0KGVuY2FsZ29zLGFsbGVuY2hhc2hlcylcblxuYWxsZGVjb2RlciA9IFtdXG5kZWNhbGdvcyA9IFsnaGV4JywgJ2FzY2lpJywgJ2Jhc2U2NCcsICdiYXNlODUnLCAnejg1JywgJ2FzY2lpODUnLCAnYmFzZTkxJyxcbiAgICAgICAgICAgICdyb3Q1JywgJ3JvdDEzJywgJ3JvdDE4JywgJ3JvdDQ3JywgJ3JldicsICd1cmwnLCAndW5peHRpbWUnXVxuZGVjaGFzaGVzID0gWydtZDUnXVxuYWxsZGVjb2RlciA9IGFsbGRlY29kZXIuY29uY2F0KGRlY2FsZ29zLGRlY2hhc2hlcylcblxubW9kdWxlLmV4cG9ydHMgPVxuICBFTkNfQUxHT1M6ICBlbmNhbGdvc1xuICBFTkNfSEFTSEVTOiBhbGxlbmNoYXNoZXNcbiAgRU5DX0FMTDogICAgYWxsZW5jb2RlclxuICBERUNfQUxHT1M6ICBkZWNhbGdvc1xuICBERUNfSEFTSEVTOiBkZWNoYXNoZXNcbiAgREVDX0FMTDogICAgYWxsZGVjb2RlclxuXG4jIGhleCBwYXJzZSBoZWxwZXJcbmhleF9wYXJzZSA9IChzdHIpIC0+XG4gIGhleCA9IHN0ci5yZXBsYWNlKC8weHw6L2csICcnKVxuICBpZiBub3QgKGhleC5sZW5ndGggJSAyKVxuICAgIGhleFxuICBlbHNlXG4gICAgZmFsc2VcblxuIyByb3QgaGVscGVyXG5yb3RYID0gKGFsZ28pIC0+XG4gIChzdHIpIC0+XG4gICAgY2Flc2FyW2FsZ29dLkNpcGhlcigpLmNyeXB0KHN0cilcblxuIyByZXZlcnNlIHN0cmluZ1xucmV2ID0gKHN0cikgLT5cbiAgc3RyLnNwbGl0KCcnKS5yZXZlcnNlKCkuam9pbignJylcblxuIyByZWNpcHJvY2FsIGNpcGhlciBoZWxwZXJcbnJlY2lwcm8gPSB7XG4gIHJvdDU6IHJvdFgoJ1JPVDUnKSxcbiAgcm90MTM6IHJvdFgoJ1JPVDEzJyksXG4gIHJvdDE4OiByb3RYKCdST1QxOCcpLFxuICByb3Q0Nzogcm90WCgnUk9UNDcnKSxcbiAgcmV2OiByZXZcbn1cblxuIyBtZDUgZGVjcnlwdGVyXG5kZWNtZDUgPSAoc3RyKSAtPlxuICBiYXNlVXJsID0gJ2h0dHA6Ly93d3cubWQ1LWhhc2guY29tL21kNS1oYXNoaW5nLWRlY3J5cHQvJ1xuICB0cnlcbiAgICByZXMgPSByZXF1ZXN0KCdHRVQnLCBiYXNlVXJsICsgc3RyKVxuICBjYXRjaCBlcnJvclxuICAgIHJldHVybiBlcnJvclxuICAkID0gY2hlZXJpby5sb2FkIHJlcy5nZXRCb2R5KCd1dGY4JylcbiAgcmV0X3N0ciA9ICQoJ3N0cm9uZy5yZXN1bHQnKS50ZXh0KClcbiAgaWYgc3RyIGlzIGVuY29kZXIocmV0X3N0ciwnbWQ1JylcbiAgICByZXRfc3RyXG4gIGVsc2VcbiAgICAnbm90IGZvdW5kJ1xuXG4jIGRlY3J5cHRlciBoZWxwZXJcbmRlY3J5cHRlciA9IHtcbiAgbWQ1OiBkZWNtZDVcbn1cblxuXG4jIGVuY29kZSBoZWxwZXJcbm1vZHVsZS5leHBvcnRzLmVuY29kZXIgPSAoc3RyLCBhbGdvKSAtPlxuICBzd2l0Y2ggYWxnb1xuICAgIHdoZW4gJ2hleCcsICdiYXNlNjQnXG4gICAgICBuZXcgQnVmZmVyKHN0cikudG9TdHJpbmcoYWxnbylcbiAgICB3aGVuICdhc2NpaTg1J1xuICAgICAgYXNjaWk4NS5Qb3N0U2NyaXB0LmVuY29kZShzdHIpXG4gICAgd2hlbiAnYmFzZTkxJ1xuICAgICAgaWYgaGV4ID0gaGV4X3BhcnNlKHN0cilcbiAgICAgICAgYmFzZTkxLmVuY29kZShCdWZmZXIoaGV4LCAnaGV4JykpLnRvU3RyaW5nKCd1dGY4JylcbiAgICB3aGVuICdhc2NpaSdcbiAgICAgIGlmIGhleCA9IGhleF9wYXJzZShzdHIpXG4gICAgICAgIEJ1ZmZlcihoZXgsICdoZXgnKS50b1N0cmluZygndXRmOCcpXG4gICAgd2hlbiAncm90NScsICdyb3QxMycsICdyb3QxOCcsICdyb3Q0NycsICdyZXYnXG4gICAgICByZWNpcHJvW2FsZ29dKHN0cilcbiAgICB3aGVuICdiYXNlODUnLCAnejg1J1xuICAgICAgYXNjaWk4NS5aZXJvTVEuZW5jb2RlKHN0cilcbiAgICB3aGVuICdjcmMxJywgJ2NyYzgnLCAnY3JjMTYnLCAnY3JjMjQnLCAnY3JjMzInXG4gICAgICBjcmNbYWxnb10oc3RyKS50b1N0cmluZygxNilcbiAgICB3aGVuICdhZGxlcjMyJ1xuICAgICAgYWRsZXIzMi5zdHIoc3RyKS50b1N0cmluZygxNilcbiAgICB3aGVuICd1cmwnXG4gICAgICBlbmNvZGVVUklDb21wb25lbnQoc3RyKVxuICAgIHdoZW4gJ3VuaXh0aW1lJ1xuICAgICAgRGF0ZS5wYXJzZShzdHIpLnRvU3RyaW5nKDEwKVxuICAgIHdoZW4gJ2xvd2VyJ1xuICAgICAgc3RyLnRvTG93ZXJDYXNlKClcbiAgICB3aGVuICd1cHBlcidcbiAgICAgIHN0ci50b1VwcGVyQ2FzZSgpXG4gICAgZWxzZVxuICAgICAgaWYgYWxnbyBpbiBhbGxlbmNoYXNoZXNcbiAgICAgICAgY3J5cHRvLmNyZWF0ZUhhc2goYWxnbykudXBkYXRlKHN0ciwgJ3V0ZjgnKS5kaWdlc3QoJ2hleCcpXG5cbiMgZGVjb2RlIGhlbHBlclxubW9kdWxlLmV4cG9ydHMuZGVjb2RlciA9IChzdHIsIGFsZ28pIC0+XG4gIHN3aXRjaCBhbGdvXG4gICAgd2hlbiAnaGV4J1xuICAgICAgaWYgbm90IChzdHIubGVuZ3RoICUgMilcbiAgICAgICAgbmV3IEJ1ZmZlcihzdHIsIGFsZ28pLnRvU3RyaW5nKCd1dGY4JylcbiAgICB3aGVuICdiYXNlNjQnXG4gICAgICBuZXcgQnVmZmVyKHN0ciwgYWxnbykudG9TdHJpbmcoJ3V0ZjgnKVxuICAgIHdoZW4gJ2FzY2lpODUnXG4gICAgICBhc2NpaTg1LmRlY29kZShzdHIpLnRvU3RyaW5nKCd1dGY4JylcbiAgICB3aGVuICdiYXNlOTEnXG4gICAgICBiYXNlOTEuZGVjb2RlKHN0cikudG9TdHJpbmcoJ2hleCcpXG4gICAgd2hlbiAnYXNjaWknXG4gICAgICBuZXcgQnVmZmVyKHN0ciwgYWxnbykudG9TdHJpbmcoJ2hleCcpXG4gICAgd2hlbiAncm90NScsICdyb3QxMycsICdyb3QxOCcsICdyb3Q0NycsICdyZXYnXG4gICAgICByZWNpcHJvW2FsZ29dKHN0cilcbiAgICB3aGVuICdiYXNlODUnLCAnejg1J1xuICAgICAgYXNjaWk4NS5aZXJvTVEuZGVjb2RlKHN0cikudG9TdHJpbmcoJ3V0ZjgnKVxuICAgIHdoZW4gJ3VybCdcbiAgICAgIGRlY29kZVVSSUNvbXBvbmVudChzdHIpXG4gICAgd2hlbiAndW5peHRpbWUnXG4gICAgICBuZXcgRGF0ZShwYXJzZUludChzdHIpKS50b1N0cmluZygndXRmOCcpXG4gICAgd2hlbiAnbWQ1J1xuICAgICAgZGVjcnlwdGVyW2FsZ29dKHN0cilcbiAgICBlbHNlXG4gICAgICByZXR1cm4gJ25vdCBpbXBsZW1lbnRlZCdcbiJdfQ==